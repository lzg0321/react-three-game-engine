"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,E,r,S=require("react"),t=(e=S)&&"object"==typeof e&&"default"in e?e.default:e,I=require("valtio");!function(e){e[e.INIT=0]="INIT",e[e.STEP=1]="STEP",e[e.LOGIC_FRAME=2]="LOGIC_FRAME",e[e.ADD_BODY=3]="ADD_BODY",e[e.REMOVE_BODY=4]="REMOVE_BODY",e[e.SET_BODY=5]="SET_BODY",e[e.UPDATE_BODY=6]="UPDATE_BODY",e[e.PHYSICS_STEP_PROCESSED=7]="PHYSICS_STEP_PROCESSED",e[e.READY_FOR_PHYSICS=8]="READY_FOR_PHYSICS"}(E||(E={})),function(e){e[e.FRAME=0]="FRAME",e[e.PHYSICS_STEP=1]="PHYSICS_STEP",e[e.SYNC_BODIES=2]="SYNC_BODIES",e[e.BEGIN_COLLISION=3]="BEGIN_COLLISION",e[e.END_COLLISION=4]="END_COLLISION",e[e.MESSAGE=5]="MESSAGE",e[e.INITIATED=6]="INITIATED"}(r||(r={})),exports.WorkerApp=function(e){var E=e.app,s=e.worker,_=e.workerRef,o=I.useProxy(e.state),O=o.initiated,D=o.physicsWorkerLoaded,i=S.useState(null),n=i[0],a=i[1];S.useEffect((function(){if(D){if(!_.physicsWorker)throw new Error("Worker missing.");a(_.physicsWorker)}}),[D]);var u=S.useCallback((function(e){s.postMessage({type:r.MESSAGE,message:e})}),[s]);return O&&n?t.createElement(E,{worker:s,physicsWorker:n,sendMessageToMain:u}):null};
//# sourceMappingURL=workerapp.cjs.production.min.js.map
